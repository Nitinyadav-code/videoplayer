<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ...existing meta tags and styles... -->
    <title>Video Player</title>
</head>
<body>
    <header class="header">
        <h1 id="videoTitle">Loading...</h1>
        <nav class="nav-menu">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/videos">Back to Videos</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div id="errorMessage" style="display:none; color: red; text-align: center;"></div>
        <article class="video-container">
            <div class="video-wrapper">
                <div class="loading-overlay" id="loading">
                    <div class="spinner"></div>
                </div>
                <iframe 
                    id="videoFrame"
                    src="about:blank"
                    width="100%" 
                    height="480" 
                    allowfullscreen
                    allow="autoplay">
                </iframe>
            </div>
        </article>
    </main>

    <script>
        async function loadVideo() {
            const urlParams = new URLSearchParams(window.location.search);
            const videoId = urlParams.get('id');
            const errorMessage = document.getElementById('errorMessage');
            const loading = document.getElementById('loading');
            
            if (!videoId) {
                window.location.href = '/videos';
                return;
            }
            
            try {
                const response = await fetch('/data/videos.json');
                if (!response.ok) throw new Error('Failed to load video data');
                
                const data = await response.json();
                const video = data.videos.find(v => v.id === videoId);
                
                if (video) {
                    document.getElementById('videoTitle').textContent = video.title;
                    document.getElementById('videoFrame').src = video.src;
                } else {
                    throw new Error('Video not found');
                }
            } catch (error) {
                errorMessage.textContent = error.message;
                errorMessage.style.display = 'block';
                loading.style.display = 'none';
            }
        }

        document.getElementById('videoFrame').addEventListener('load', () => {
            document.getElementById('loading').style.display = 'none';
        });

        loadVideo();
    </script>
</body>
</html>
